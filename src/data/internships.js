export const internships = [
  {
    id: 1,
    title: "Python Developer Intern",
    company: "Tech Solutions India",
    skills: ["Python", "Django", "React", "JavaScript", "SQL", "Git"],
    requiredSkills: ["Python", "Django", "React", "JavaScript"],
    sector: "it",
    location: "Mumbai",
    locationType: "metro",
    stipend: "₹15,000/month",
    duration: "3 months",
    deadline: "2024-03-15",
    description: "Work on cutting-edge web applications using Python and React. Perfect for students looking to build real-world experience in full-stack development.",
    matchScore: 92,
    score: {
      skills: 38,
      location: 20,
      categoryBoost: 20,
      pastPenalty: 0,
      finalScore: 92
    },
    matchReasons: [
      "Strong Python and React skills match",
      "Metro location preference aligned",
      "Eligible for diversity boost",
      "No past internship penalty"
    ],
    capacity: 10,
    currentApplications: 7,
    categoryPreference: ["General", "OBC", "SC", "ST"],
    backgroundPreference: ["Urban", "Rural"],
    minEducation: "bachelors",
    applicationDeadline: "2024-03-15"
  },
  {
    id: 2,
    title: "Finance Analyst Intern",
    company: "FinanceCorp Global",
    skills: ["Excel", "Accounting", "Financial Analysis", "Data Analysis", "PowerPoint"],
    requiredSkills: ["Excel", "Accounting", "Financial Analysis"],
    sector: "finance",
    location: "Delhi",
    locationType: "metro",
    stipend: "₹12,000/month",
    duration: "2 months",
    deadline: "2024-03-20",
    description: "Analyze financial data and prepare reports for senior management. Great opportunity for finance and commerce students.",
    matchScore: 85,
    score: {
      skills: 35,
      location: 20,
      categoryBoost: 15,
      pastPenalty: -5,
      finalScore: 85
    },
    matchReasons: [
      "Excellent Excel and accounting skills match",
      "Perfect location alignment",
      "Category boost applied",
      "Minor past internship adjustment"
    ],
    capacity: 8,
    currentApplications: 6,
    categoryPreference: ["General", "OBC", "SC"],
    backgroundPreference: ["Urban"],
    minEducation: "bachelors",
    applicationDeadline: "2024-03-20"
  },
  {
    id: 3,
    title: "Digital Marketing Intern",
    company: "BrandBuzz Media",
    skills: ["Marketing", "Social Media", "Content Writing", "SEO", "Google Analytics"],
    requiredSkills: ["Marketing", "Social Media", "Content Writing"],
    sector: "marketing",
    location: "Bangalore",
    locationType: "metro",
    stipend: "₹10,000/month",
    duration: "3 months",
    deadline: "2024-03-25",
    description: "Create engaging social media content and analyze campaign performance. Ideal for marketing and communication students.",
    matchScore: 78,
    score: {
      skills: 32,
      location: 15,
      categoryBoost: 10,
      pastPenalty: 0,
      finalScore: 78
    },
    matchReasons: [
      "Good marketing skills alignment",
      "Good location match",
      "Basic category boost",
      "Fresh candidate - no penalties"
    ],
    capacity: 12,
    currentApplications: 9,
    categoryPreference: ["General", "OBC", "SC", "ST"],
    backgroundPreference: ["Urban", "Rural"],
    minEducation: "highschool",
    applicationDeadline: "2024-03-25"
  },
  {
    id: 4,
    title: "Rural Development Intern",
    company: "PM Internship Smart Placement",
    skills: ["Community Development", "Communication", "Project Management", "Data Collection"],
    requiredSkills: ["Communication", "Community Development"],
    sector: "education",
    location: "Rural Maharashtra",
    locationType: "rural",
    stipend: "₹8,000/month + Accommodation",
    duration: "6 months",
    deadline: "2024-04-10",
    description: "Work on rural development projects and community outreach programs. Special preference for rural background candidates.",
    matchScore: 95,
    score: {
      skills: 30,
      location: 20,
      categoryBoost: 25,
      pastPenalty: 0,
      finalScore: 95
    },
    matchReasons: [
      "Rural background bonus applied",
      "Category boost maximized",
      "Perfect location preference match",
      "Government initiative priority"
    ],
    capacity: 15,
    currentApplications: 5,
    categoryPreference: ["SC", "ST", "OBC"],
    backgroundPreference: ["Rural"],
    minEducation: "highschool",
    applicationDeadline: "2024-04-10",
    governmentInitiative: true
  },
  {
    id: 5,
    title: "Data Science Intern",
    company: "Analytics Pro",
    skills: ["Python", "Machine Learning", "SQL", "Statistics", "Data Visualization"],
    requiredSkills: ["Python", "Machine Learning", "SQL"],
    sector: "it",
    location: "Hyderabad",
    locationType: "tier2",
    stipend: "₹18,000/month",
    duration: "4 months",
    deadline: "2024-03-30",
    description: "Build machine learning models and analyze complex datasets. Perfect for data science and computer science students.",
    matchScore: 88,
    score: {
      skills: 40,
      location: 18,
      categoryBoost: 15,
      pastPenalty: -5,
      finalScore: 88
    },
    matchReasons: [
      "Perfect skills match score",
      "Good tier-2 location alignment",
      "Category diversity boost",
      "Minor past participation adjustment"
    ],
    capacity: 6,
    currentApplications: 4,
    categoryPreference: ["General", "OBC"],
    backgroundPreference: ["Urban"],
    minEducation: "masters",
    applicationDeadline: "2024-03-30"
  },
  {
    id: 6,
    title: "Healthcare Intern",
    company: "MediCare Foundation",
    skills: ["Healthcare", "Communication", "Patient Care", "Medical Knowledge"],
    requiredSkills: ["Communication", "Healthcare"],
    sector: "healthcare",
    location: "Chennai",
    locationType: "metro",
    stipend: "₹9,000/month",
    duration: "3 months",
    deadline: "2024-04-05",
    description: "Assist in healthcare outreach programs and patient education. Open to medical and nursing students.",
    matchScore: 82,
    score: {
      skills: 28,
      location: 20,
      categoryBoost: 19,
      pastPenalty: 0,
      finalScore: 82
    },
    matchReasons: [
      "Good healthcare skills match",
      "Metro location preference met",
      "Strong diversity inclusion boost",
      "First-time applicant advantage"
    ],
    capacity: 20,
    currentApplications: 12,
    categoryPreference: ["General", "OBC", "SC", "ST"],
    backgroundPreference: ["Urban", "Rural"],
    minEducation: "bachelors",
    applicationDeadline: "2024-04-05"
  },
  {
    id: 7,
    title: "Engineering Intern",
    company: "InfraBuild Solutions",
    skills: ["AutoCAD", "Project Management", "Engineering", "Site Supervision"],
    requiredSkills: ["AutoCAD", "Engineering"],
    sector: "engineering",
    location: "Pune",
    locationType: "tier2",
    stipend: "₹14,000/month",
    duration: "5 months",
    deadline: "2024-04-15",
    description: "Work on infrastructure projects and learn site management skills. For civil and mechanical engineering students.",
    matchScore: 75,
    score: {
      skills: 30,
      location: 16,
      categoryBoost: 14,
      pastPenalty: 0,
      finalScore: 75
    },
    matchReasons: [
      "Solid engineering skills match",
      "Tier-2 location alignment",
      "Moderate category boost",
      "No previous internship history"
    ],
    capacity: 8,
    currentApplications: 6,
    categoryPreference: ["General", "OBC"],
    backgroundPreference: ["Urban"],
    minEducation: "bachelors",
    applicationDeadline: "2024-04-15"
  },
  {
    id: 8,
    title: "Research Intern",
    company: "Innovation Labs",
    skills: ["Research", "Data Analysis", "Report Writing", "Academic Writing"],
    requiredSkills: ["Research", "Data Analysis"],
    sector: "research",
    location: "Remote",
    locationType: "tier3",
    stipend: "₹11,000/month",
    duration: "4 months",
    deadline: "2024-04-20",
    description: "Conduct research and analysis for innovation projects. Suitable for research-oriented students.",
    matchScore: 70,
    score: {
      skills: 25,
      location: 12,
      categoryBoost: 18,
      pastPenalty: 0,
      finalScore: 70
    },
    matchReasons: [
      "Basic research skills match",
      "Remote work flexibility",
      "Good diversity boost",
      "Fresh candidate advantage"
    ],
    capacity: 10,
    currentApplications: 3,
    categoryPreference: ["General", "OBC", "SC", "ST"],
    backgroundPreference: ["Urban", "Rural"],
    minEducation: "masters",
    applicationDeadline: "2024-04-20"
  },
  {
    id: 9,
    title: "Design Intern",
    company: "Creative Studio",
    skills: ["UI/UX Design", "Figma", "Adobe Creative Suite", "Web Design"],
    requiredSkills: ["Figma", "UI/UX Design"],
    sector: "design",
    location: "Gurgaon",
    locationType: "metro",
    stipend: "₹13,000/month",
    duration: "3 months",
    deadline: "2024-03-28",
    description: "Design user interfaces and create engaging digital experiences. Perfect for design students.",
    matchScore: 80,
    score: {
      skills: 36,
      location: 20,
      categoryBoost: 9,
      pastPenalty: 0,
      finalScore: 80
    },
    matchReasons: [
      "Strong design skills alignment",
      "Metro location preference match",
      "Standard category boost",
      "First-time applicant"
    ],
    capacity: 5,
    currentApplications: 4,
    categoryPreference: ["General", "OBC"],
    backgroundPreference: ["Urban"],
    minEducation: "bachelors",
    applicationDeadline: "2024-03-28"
  },
  {
    id: 10,
    title: "Tier-3 City Development Intern",
    company: "PM Internship Smart Placement",
    skills: ["Community Outreach", "Documentation", "Communication", "Local Research"],
    requiredSkills: ["Communication", "Community Outreach"],
    sector: "education",
    location: "Tier-3 Cities Multiple",
    locationType: "tier3",
    stipend: "₹7,000/month + Travel Allowance",
    duration: "6 months",
    deadline: "2024-05-01",
    description: "Work on development projects in tier-3 cities with special focus on local community engagement.",
    matchScore: 90,
    score: {
      skills: 25,
      location: 20,
      categoryBoost: 25,
      pastPenalty: 0,
      finalScore: 90
    },
    matchReasons: [
      "Maximum rural/tier-3 boost applied",
      "High category diversity points",
      "Government initiative priority",
      "Perfect location alignment"
    ],
    capacity: 25,
    currentApplications: 8,
    categoryPreference: ["SC", "ST", "OBC"],
    backgroundPreference: ["Rural"],
    minEducation: "highschool",
    applicationDeadline: "2024-05-01",
    governmentInitiative: true
  }
];

// Utility function to calculate match score for a candidate
export const calculateInternshipMatch = (candidate, internship) => {
  let skillsScore = 0;
  let locationScore = 0;
  let categoryBoost = 0;
  let pastPenalty = 0;

  // Skills Match (40 points)
  const candidateSkills = candidate.skills.map(skill => skill.toLowerCase());
  const internshipSkills = internship.requiredSkills.map(skill => skill.toLowerCase());
  const commonSkills = candidateSkills.filter(skill => internshipSkills.includes(skill));
  skillsScore = (commonSkills.length / internshipSkills.length) * 40;

  // Location Match (20 points)
  if (candidate.locationPreference === internship.locationType) {
    locationScore = 20;
  } else if (
    (candidate.locationPreference === 'metro' && internship.locationType === 'tier2') ||
    (candidate.locationPreference === 'tier2' && internship.locationType === 'metro') ||
    (candidate.locationPreference === 'tier2' && internship.locationType === 'tier3') ||
    (candidate.locationPreference === 'tier3' && internship.locationType === 'tier2')
  ) {
    locationScore = 15;
  } else if (candidate.locationPreference === 'rural' && internship.locationType === 'tier3') {
    locationScore = 18;
  } else {
    locationScore = 5;
  }

  // Category + Rural Boost (20 points)
  // SC/ST candidates get higher boost
  if (candidate.category === 'sc' || candidate.category === 'st') {
    categoryBoost += 12;
  } else if (candidate.category === 'obc') {
    categoryBoost += 8;
  } else {
    categoryBoost += 4;
  }

  // Rural background boost
  if (candidate.background === 'rural') {
    categoryBoost += 8;
  }

  // Cap category boost at 20
  categoryBoost = Math.min(categoryBoost, 20);

  // Past Participation Penalty (20 points)
  if (candidate.pastInternship === 'yes') {
    pastPenalty = -20;
  }

  const finalScore = Math.min(100, Math.max(0, skillsScore + locationScore + categoryBoost + pastPenalty));

  return {
    skills: Math.round(skillsScore),
    location: Math.round(locationScore),
    categoryBoost: Math.round(categoryBoost),
    pastPenalty: Math.round(pastPenalty),
    finalScore: Math.round(finalScore)
  };
};

// Filter internships by sector
export const getInternshipsBySector = (sector) => {
  return internships.filter(intern => intern.sector === sector);
};

// Get internships with high diversity focus
export const getDiversityFocusedInternships = () => {
  return internships.filter(intern => 
    intern.categoryPreference.includes('SC') || 
    intern.categoryPreference.includes('ST') ||
    intern.backgroundPreference.includes('Rural')
  );
};

// Get government initiative internships
export const getGovernmentInternships = () => {
  return internships.filter(intern => intern.governmentInitiative);
};

// Sort internships by match score for a candidate
export const getSortedInternshipsForCandidate = (candidate) => {
  return internships
    .map(intern => ({
      ...intern,
      matchedSkills: intern.requiredSkills.filter(skill => 
        candidate.skills.map(s => s.toLowerCase()).includes(skill.toLowerCase())
      ),
      score: calculateInternshipMatch(candidate, intern),
      matchScore: calculateInternshipMatch(candidate, intern).finalScore
    }))
    .sort((a, b) => b.matchScore - a.matchScore);
};